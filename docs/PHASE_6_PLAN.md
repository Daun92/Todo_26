# Phase 6: ì•ˆì •í™” ë° í’ˆì§ˆ í–¥ìƒ - ìƒì„¸ ê°œë°œ ê³„íš

> ì‘ì„±ì¼: 2025-12-23
> ì˜ˆìƒ ê¸°ê°„: 2-3 ìŠ¤í”„ë¦°íŠ¸
> ìš°ì„ ìˆœìœ„: ğŸ”´ ë†’ìŒ (í•„ìˆ˜)

---

## 1. Phase 6 ê°œìš”

### 1.1 ëª©í‘œ
- ê¸°ì¡´ ê¸°ëŠ¥ì˜ ë²„ê·¸ ìˆ˜ì • ë° ì•ˆì •í™”
- ì‚¬ìš©ì ê²½í—˜(UX) ê°œì„ 
- ì½”ë“œ í’ˆì§ˆ ë° ì„±ëŠ¥ ìµœì í™”
- ê¸°ìˆ  ë¶€ì±„ í•´ì†Œ

### 1.2 ë²”ìœ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Phase 6 ë²”ìœ„                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Sprint 1: ë²„ê·¸ ìˆ˜ì • & ê¸°ëŠ¥ ì™„ì„±                              â”‚
â”‚  â”œâ”€â”€ íƒœê·¸ ì‚­ì œ ì—°ì‡„ ì²˜ë¦¬                                      â”‚
â”‚  â”œâ”€â”€ ì½˜í…ì¸  ìƒì„¸ ë·° êµ¬í˜„                                      â”‚
â”‚  â””â”€â”€ í ìƒíƒœ ê´€ë¦¬ ê°œì„                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Sprint 2: UX ê°œì„                                            â”‚
â”‚  â”œâ”€â”€ ë“œë˜ê·¸ì•¤ë“œë¡­ í•™ìŠµ í                                     â”‚
â”‚  â”œâ”€â”€ ìŠ¤ì¼ˆë ˆí†¤ ë¡œë”© UI                                         â”‚
â”‚  â””â”€â”€ ì—ëŸ¬ í•¸ë“¤ë§ ê°•í™”                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Sprint 3: ì„±ëŠ¥ ìµœì í™”                                        â”‚
â”‚  â”œâ”€â”€ ë²ˆë“¤ ì‚¬ì´ì¦ˆ ìµœì í™”                                       â”‚
â”‚  â”œâ”€â”€ ì»´í¬ë„ŒíŠ¸ ë©”ëª¨ì´ì œì´ì…˜                                    â”‚
â”‚  â””â”€â”€ í…ŒìŠ¤íŠ¸ ê¸°ë°˜ êµ¬ì¶•                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Sprint 1: ë²„ê·¸ ìˆ˜ì • & ê¸°ëŠ¥ ì™„ì„±

### 2.1 íƒœê·¸ ì‚­ì œ ì—°ì‡„ ì²˜ë¦¬

**í˜„ì¬ ìƒíƒœ:**
```typescript
// src/hooks/useTags.ts:143-153
const deleteTag = useCallback(async (id: string): Promise<void> => {
  try {
    await db.tags.delete(id);
    setError(null);
    // TODO(CP-1.2): ì—°ê´€ëœ ì½˜í…ì¸ /ë©”ëª¨ì—ì„œë„ íƒœê·¸ ì œê±° í•„ìš”
  } catch (err) {
    setError(err as Error);
    throw err;
  }
}, []);
```

**êµ¬í˜„ ê³„íš:**

| ì‘ì—… | ì„¤ëª… | íŒŒì¼ |
|------|------|------|
| 2.1.1 | íƒœê·¸ IDë¡œ ì—°ê´€ ì½˜í…ì¸  ì¡°íšŒ í•¨ìˆ˜ ì¶”ê°€ | `src/lib/db.ts` |
| 2.1.2 | íƒœê·¸ IDë¡œ ì—°ê´€ ë©”ëª¨ ì¡°íšŒ í•¨ìˆ˜ ì¶”ê°€ | `src/lib/db.ts` |
| 2.1.3 | deleteTag í•¨ìˆ˜ì— ì—°ì‡„ ì‚­ì œ ë¡œì§ ì¶”ê°€ | `src/hooks/useTags.ts` |
| 2.1.4 | ì‚­ì œ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ ê°œì„  | ì‹ ê·œ: `DeleteTagConfirm.tsx` |

**ìƒì„¸ êµ¬í˜„:**

```typescript
// db.tsì— ì¶”ê°€í•  í•¨ìˆ˜
export async function getContentsByTag(tagId: string): Promise<Content[]> {
  return db.contents.filter(c => c.tags.includes(tagId)).toArray();
}

export async function getMemosByTag(tagId: string): Promise<Memo[]> {
  return db.memos.filter(m => m.tags.includes(tagId)).toArray();
}

export async function removeTagFromContents(tagId: string): Promise<void> {
  const contents = await getContentsByTag(tagId);
  await Promise.all(
    contents.map(c =>
      db.contents.update(c.id, {
        tags: c.tags.filter(t => t !== tagId)
      })
    )
  );
}

export async function removeTagFromMemos(tagId: string): Promise<void> {
  const memos = await getMemosByTag(tagId);
  await Promise.all(
    memos.map(m =>
      db.memos.update(m.id, {
        tags: m.tags.filter(t => t !== tagId)
      })
    )
  );
}
```

```typescript
// useTags.ts deleteTag ê°œì„ 
const deleteTag = useCallback(async (id: string): Promise<void> => {
  try {
    // 1. ì—°ê´€ ì½˜í…ì¸ ì—ì„œ íƒœê·¸ ì œê±°
    await removeTagFromContents(id);

    // 2. ì—°ê´€ ë©”ëª¨ì—ì„œ íƒœê·¸ ì œê±°
    await removeTagFromMemos(id);

    // 3. íƒœê·¸ ì‚­ì œ
    await db.tags.delete(id);

    setError(null);
  } catch (err) {
    setError(err as Error);
    throw err;
  }
}, []);
```

**í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤:**
- [ ] íƒœê·¸ ì‚­ì œ ì‹œ ì—°ê´€ ì½˜í…ì¸ ì—ì„œ íƒœê·¸ ì œê±° í™•ì¸
- [ ] íƒœê·¸ ì‚­ì œ ì‹œ ì—°ê´€ ë©”ëª¨ì—ì„œ íƒœê·¸ ì œê±° í™•ì¸
- [ ] ë‹¤ë¥¸ íƒœê·¸ì—ëŠ” ì˜í–¥ ì—†ìŒ í™•ì¸
- [ ] ì—ëŸ¬ ë°œìƒ ì‹œ ë¡¤ë°± í™•ì¸

---

### 2.2 ì½˜í…ì¸  ìƒì„¸ ë·° êµ¬í˜„

**í˜„ì¬ ìƒíƒœ:**
```typescript
// src/pages/FeedPage.tsx:67-70
const handleContentClick = (content: { id: string }) => {
  setCurrentContentId(content.id);
  // TODO(CP-1.8): ì½˜í…ì¸  ìƒì„¸ ëª¨ë‹¬ ë˜ëŠ” í˜ì´ì§€ë¡œ ì´ë™
};
```

**êµ¬í˜„ ê³„íš:**

| ì‘ì—… | ì„¤ëª… | íŒŒì¼ |
|------|------|------|
| 2.2.1 | ContentDetailModal ì»´í¬ë„ŒíŠ¸ ìƒì„± | ì‹ ê·œ: `ContentDetailModal.tsx` |
| 2.2.2 | ëª¨ë‹¬ ë“±ë¡ ë° ì—°ë™ | `src/App.tsx` |
| 2.2.3 | FeedPageì—ì„œ ëª¨ë‹¬ ì—´ê¸° | `src/pages/FeedPage.tsx` |
| 2.2.4 | ì½˜í…ì¸  í¸ì§‘ ê¸°ëŠ¥ í†µí•© | `ContentDetailModal.tsx` |

**ContentDetailModal êµ¬ì¡°:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”€ ì½˜í…ì¸  ì œëª©                    [X] ë‹«ê¸° â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚ ğŸ“Œ ìƒíƒœ: ëŒ€ê¸° ì¤‘ / í•™ìŠµ ì¤‘ / ì™„ë£Œ        â”‚
â”‚                                         â”‚
â”‚ ğŸ”— URL (í´ë¦­ ì‹œ ìƒˆ íƒ­)                   â”‚
â”‚                                         â”‚
â”‚ ğŸ“ ë‚´ìš©/ìš”ì•½                             â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚ Lorem ipsum dolor sit amet...           â”‚
â”‚                                         â”‚
â”‚ ğŸ·ï¸ íƒœê·¸                                  â”‚
â”‚ [ê²½ì œ] [íˆ¬ì] [ì£¼ì‹]                     â”‚
â”‚                                         â”‚
â”‚ âš–ï¸ ëŒ€ì²™ì  (ìˆëŠ” ê²½ìš°)                    â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚ ë°˜ëŒ€ ê´€ì  ë‚´ìš©...                        â”‚
â”‚                                         â”‚
â”‚ ğŸ“Š AI ìš”ì•½ (ìƒì„± ë²„íŠ¼)                   â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ì‚­ì œ]          [í¸ì§‘]   [í•™ìŠµ ì‹œì‘ â–¶]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì£¼ìš” ê¸°ëŠ¥:**
1. ì½˜í…ì¸  ì „ì²´ ì •ë³´ í‘œì‹œ
2. AI ìš”ì•½ ìƒì„±/í‘œì‹œ
3. ëŒ€ì²™ì  í‘œì‹œ (ìˆëŠ” ê²½ìš°)
4. í¸ì§‘ ëª¨ë“œ ì „í™˜
5. í•™ìŠµ ì‹œì‘ ë²„íŠ¼
6. ì‚­ì œ ê¸°ëŠ¥

---

### 2.3 í ìƒíƒœ ê´€ë¦¬ ê°œì„ 

**í˜„ì¬ ìƒíƒœ:**
```typescript
// src/hooks/useContents.ts:435
removeFromQueue: moveToQueue, // NOTE: ì‹¤ì œë¡œëŠ” ìƒíƒœ ë³€ê²½ì´ í•„ìš”í•  ìˆ˜ ìˆìŒ
```

**êµ¬í˜„ ê³„íš:**

| ì‘ì—… | ì„¤ëª… | íŒŒì¼ |
|------|------|------|
| 2.3.1 | removeFromQueue í•¨ìˆ˜ ë¶„ë¦¬ êµ¬í˜„ | `src/hooks/useContents.ts` |
| 2.3.2 | í ìˆœì„œ ì €ì¥ ê¸°ëŠ¥ ì¶”ê°€ | `src/lib/db.ts` |
| 2.3.3 | í ì•„ì´í…œ ìˆœì„œ í•„ë“œ ì¶”ê°€ | `src/types/index.ts` |

**ìƒì„¸ êµ¬í˜„:**

```typescript
// Content íƒ€ì…ì— queueOrder ì¶”ê°€
interface Content {
  // ... ê¸°ì¡´ í•„ë“œ
  queueOrder?: number; // íì—ì„œì˜ ìˆœì„œ (optional)
}

// useContents.tsì— ì¶”ê°€
const removeFromQueue = useCallback(async (id: string): Promise<void> => {
  // íì—ì„œ ì œê±° = ìƒíƒœë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³  queueOrderë§Œ ì œê±°
  await db.contents.update(id, { queueOrder: undefined });
}, []);

const reorderQueue = useCallback(async (orderedIds: string[]): Promise<void> => {
  await Promise.all(
    orderedIds.map((id, index) =>
      db.contents.update(id, { queueOrder: index })
    )
  );
}, []);
```

---

## 3. Sprint 2: UX ê°œì„ 

### 3.1 ë“œë˜ê·¸ì•¤ë“œë¡­ í•™ìŠµ í

**í˜„ì¬ ìƒíƒœ:**
```typescript
// src/components/feed/LearningQueue.tsx:13
// ë“œë˜ê·¸ì•¤ë“œë¡­ ìˆœì„œ ë³€ê²½ (TODO: í–¥í›„ êµ¬í˜„)
```

**êµ¬í˜„ ê³„íš:**

| ì‘ì—… | ì„¤ëª… | íŒŒì¼ |
|------|------|------|
| 3.1.1 | @dnd-kit/core íŒ¨í‚¤ì§€ ì„¤ì¹˜ | `package.json` |
| 3.1.2 | DraggableQueueItem ì»´í¬ë„ŒíŠ¸ ìƒì„± | ì‹ ê·œ: `DraggableQueueItem.tsx` |
| 3.1.3 | LearningQueueì— ë“œë˜ê·¸ ë¡œì§ í†µí•© | `LearningQueue.tsx` |
| 3.1.4 | ìˆœì„œ ë³€ê²½ ì‹œ DB ì €ì¥ | `useContents.ts` |

**í•„ìš” íŒ¨í‚¤ì§€:**
```bash
npm install @dnd-kit/core @dnd-kit/sortable @dnd-kit/utilities
```

**êµ¬í˜„ êµ¬ì¡°:**

```typescript
// LearningQueue.tsx êµ¬ì¡°
import { DndContext, closestCenter } from '@dnd-kit/core';
import { SortableContext, verticalListSortingStrategy } from '@dnd-kit/sortable';

function LearningQueue({ queue, onReorder, ...props }) {
  const handleDragEnd = (event) => {
    const { active, over } = event;
    if (active.id !== over.id) {
      const oldIndex = queue.findIndex(q => q.id === active.id);
      const newIndex = queue.findIndex(q => q.id === over.id);
      const newOrder = arrayMove(queue, oldIndex, newIndex);
      onReorder(newOrder.map(q => q.id));
    }
  };

  return (
    <DndContext collisionDetection={closestCenter} onDragEnd={handleDragEnd}>
      <SortableContext items={queue.map(q => q.id)} strategy={verticalListSortingStrategy}>
        {queue.map(content => (
          <SortableQueueItem key={content.id} content={content} />
        ))}
      </SortableContext>
    </DndContext>
  );
}
```

**UI í”¼ë“œë°±:**
- ë“œë˜ê·¸ ì‹œ ì•„ì´í…œ ë“¤ì–´ì˜¬ë¦¼ íš¨ê³¼ (elevation)
- ë“œë¡­ ê°€ëŠ¥ ìœ„ì¹˜ í‘œì‹œ
- ë“œë˜ê·¸ í•¸ë“¤ ì•„ì´ì½˜ (â˜°)
- ìˆœì„œ ë³€ê²½ ì™„ë£Œ ì‹œ í† ìŠ¤íŠ¸ ì•Œë¦¼

---

### 3.2 ìŠ¤ì¼ˆë ˆí†¤ ë¡œë”© UI

**êµ¬í˜„ ê³„íš:**

| ì‘ì—… | ì„¤ëª… | íŒŒì¼ |
|------|------|------|
| 3.2.1 | Skeleton ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸ ìƒì„± | ì‹ ê·œ: `Skeleton.tsx` |
| 3.2.2 | FeedCardSkeleton ìƒì„± | `FeedCard.tsx` |
| 3.2.3 | KnowledgeGraphSkeleton ìƒì„± | `KnowledgeGraph.tsx` |
| 3.2.4 | ReflectionReportSkeleton ìƒì„± | `ReflectionReport.tsx` |
| 3.2.5 | ê° í˜ì´ì§€ì— ìŠ¤ì¼ˆë ˆí†¤ ì ìš© | ê° í˜ì´ì§€ íŒŒì¼ |

**Skeleton ì»´í¬ë„ŒíŠ¸:**

```typescript
// src/components/ui/Skeleton.tsx
interface SkeletonProps {
  className?: string;
  variant?: 'text' | 'circular' | 'rectangular';
  width?: string | number;
  height?: string | number;
  animation?: 'pulse' | 'wave' | 'none';
}

export function Skeleton({
  className,
  variant = 'text',
  width,
  height,
  animation = 'pulse',
}: SkeletonProps) {
  return (
    <div
      className={cn(
        'bg-[var(--bg-tertiary)]',
        animation === 'pulse' && 'animate-pulse',
        animation === 'wave' && 'animate-shimmer',
        variant === 'circular' && 'rounded-full',
        variant === 'rectangular' && 'rounded-lg',
        variant === 'text' && 'rounded',
        className
      )}
      style={{ width, height }}
    />
  );
}
```

**í˜ì´ì§€ë³„ ìŠ¤ì¼ˆë ˆí†¤:**

```
FeedPage:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                    â”‚  â† í—¤ë” ìŠ¤ì¼ˆë ˆí†¤
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”       â”‚  â† ë¹ ë¥¸ ì¶”ê°€ ë²„íŠ¼
â”‚ â”‚ â–‘â–‘â–‘â–‘â–‘ â”‚ â”‚ â–‘â–‘â–‘â–‘â–‘ â”‚ â”‚ â–‘â–‘â–‘â–‘â–‘ â”‚       â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–ˆâ–ˆâ–ˆâ–ˆ  í•™ìŠµ ëŒ€ê¸°ì—´  [â–ˆâ–ˆ]             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ â–‘â–‘â–‘â–‘â–‘â–‘ â”‚ â”‚ â–‘â–‘â–‘â–‘â–‘â–‘ â”‚ â”‚ â–‘â–‘â–‘â–‘â–‘â–‘ â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.3 ì—ëŸ¬ í•¸ë“¤ë§ ê°•í™”

**êµ¬í˜„ ê³„íš:**

| ì‘ì—… | ì„¤ëª… | íŒŒì¼ |
|------|------|------|
| 3.3.1 | ErrorBoundary ì»´í¬ë„ŒíŠ¸ ìƒì„± | ì‹ ê·œ: `ErrorBoundary.tsx` |
| 3.3.2 | Toast ì•Œë¦¼ ì‹œìŠ¤í…œ êµ¬í˜„ | ì‹ ê·œ: `Toast.tsx`, `useToast.ts` |
| 3.3.3 | API ì—ëŸ¬ í†µí•© í•¸ë“¤ëŸ¬ | ì‹ ê·œ: `error-handler.ts` |
| 3.3.4 | ê° í›…ì— ì¼ê´€ëœ ì—ëŸ¬ ì²˜ë¦¬ ì ìš© | ê° í›… íŒŒì¼ |

**Toast ì‹œìŠ¤í…œ:**

```typescript
// useToast.ts
interface Toast {
  id: string;
  type: 'success' | 'error' | 'warning' | 'info';
  title: string;
  description?: string;
  duration?: number;
}

interface ToastStore {
  toasts: Toast[];
  addToast: (toast: Omit<Toast, 'id'>) => void;
  removeToast: (id: string) => void;
}

export const useToast = create<ToastStore>((set) => ({
  toasts: [],
  addToast: (toast) => set((state) => ({
    toasts: [...state.toasts, { ...toast, id: crypto.randomUUID() }]
  })),
  removeToast: (id) => set((state) => ({
    toasts: state.toasts.filter(t => t.id !== id)
  })),
}));
```

**ì—ëŸ¬ ë©”ì‹œì§€ í‘œì¤€í™”:**

| ì—ëŸ¬ ìœ í˜• | ì‚¬ìš©ì ë©”ì‹œì§€ | ì•¡ì…˜ |
|-----------|---------------|------|
| ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ | "ì—°ê²°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”." | ì¬ì‹œë„ ë²„íŠ¼ |
| API í‚¤ ì—†ìŒ | "AI ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ API í‚¤ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”." | ì„¤ì • ë§í¬ |
| ì €ì¥ ì‹¤íŒ¨ | "ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”." | ì¬ì‹œë„ ë²„íŠ¼ |
| ì‚­ì œ ì‹¤íŒ¨ | "ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤." | í™•ì¸ |
| ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ | "ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”." | í™•ì¸ |

---

## 4. Sprint 3: ì„±ëŠ¥ ìµœì í™”

### 4.1 ë²ˆë“¤ ì‚¬ì´ì¦ˆ ìµœì í™”

**í˜„ì¬ ìƒíƒœ:**
```
dist/assets/index-C7bbpEt3.js   931.31 kB â”‚ gzip: 281.71 kB
âš ï¸ 500KB ê¶Œì¥ì¹˜ ì´ˆê³¼
```

**êµ¬í˜„ ê³„íš:**

| ì‘ì—… | ì„¤ëª… | íŒŒì¼ |
|------|------|------|
| 4.1.1 | Vite ë¹Œë“œ ì„¤ì • ìµœì í™” | `vite.config.ts` |
| 4.1.2 | ë™ì  ì„í¬íŠ¸ ì ìš© (í˜ì´ì§€ ë‹¨ìœ„) | ê° í˜ì´ì§€ |
| 4.1.3 | D3.js íŠ¸ë¦¬ì‰ì´í‚¹ | `KnowledgeGraph.tsx` |
| 4.1.4 | Recharts ìµœì í™” | `StatsCharts.tsx` |

**Vite ì„¤ì • ìµœì í™”:**

```typescript
// vite.config.ts
export default defineConfig({
  plugins: [react(), tailwindcss()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
    },
  },
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          // ë²¤ë” ì²­í¬ ë¶„ë¦¬
          'vendor-react': ['react', 'react-dom'],
          'vendor-d3': ['d3'],
          'vendor-recharts': ['recharts'],
          // ê¸°ëŠ¥ë³„ ì²­í¬
          'feature-connect': [
            './src/components/connect/KnowledgeGraph.tsx',
            './src/components/connect/PatternList.tsx',
          ],
          'feature-reflect': [
            './src/components/reflect/StatsCharts.tsx',
            './src/components/reflect/GrowthTimeline.tsx',
          ],
        },
      },
    },
    chunkSizeWarningLimit: 500,
  },
});
```

**ë™ì  ì„í¬íŠ¸ ì ìš©:**

```typescript
// App.tsx
const ConnectPage = lazy(() => import('./pages/ConnectPage'));
const ReflectPage = lazy(() => import('./pages/ReflectPage'));

function AppContent() {
  return (
    <Suspense fallback={<PageSkeleton />}>
      {activeTab === 'connect' && <ConnectPage />}
      {activeTab === 'reflect' && <ReflectPage />}
    </Suspense>
  );
}
```

**ì˜ˆìƒ ê²°ê³¼:**
- ì´ˆê¸° ë¡œë“œ: ~300KB (í˜„ì¬ 931KBì—ì„œ ê°ì†Œ)
- Connect í˜ì´ì§€: ~200KB (í•„ìš” ì‹œ ë¡œë“œ)
- Reflect í˜ì´ì§€: ~150KB (í•„ìš” ì‹œ ë¡œë“œ)

---

### 4.2 ì»´í¬ë„ŒíŠ¸ ë©”ëª¨ì´ì œì´ì…˜

**êµ¬í˜„ ê³„íš:**

| ì‘ì—… | ì„¤ëª… | íŒŒì¼ |
|------|------|------|
| 4.2.1 | FeedCard memo ì ìš© | `FeedCard.tsx` |
| 4.2.2 | ConnectionCard memo ì ìš© | `ConnectionCard.tsx` |
| 4.2.3 | useMemo/useCallback ê°ì‚¬ | ì „ì²´ í›… |
| 4.2.4 | React DevTools í”„ë¡œíŒŒì¼ë§ | - |

**ë©”ëª¨ì´ì œì´ì…˜ ì²´í¬ë¦¬ìŠ¤íŠ¸:**

```typescript
// íŒ¨í„´ 1: ì»´í¬ë„ŒíŠ¸ memo
const FeedCard = memo(function FeedCard({ content, onStartLearning }: Props) {
  // ...
});

// íŒ¨í„´ 2: ì½œë°± ë©”ëª¨ì´ì œì´ì…˜
const handleClick = useCallback(() => {
  onStartLearning(content.id);
}, [onStartLearning, content.id]);

// íŒ¨í„´ 3: ê³„ì‚°ê°’ ë©”ëª¨ì´ì œì´ì…˜
const sortedContents = useMemo(() => {
  return [...contents].sort((a, b) => /* ... */);
}, [contents]);
```

---

### 4.3 í…ŒìŠ¤íŠ¸ ê¸°ë°˜ êµ¬ì¶•

**êµ¬í˜„ ê³„íš:**

| ì‘ì—… | ì„¤ëª… | íŒŒì¼ |
|------|------|------|
| 4.3.1 | Vitest + RTL ì„¤ì¹˜ | `package.json` |
| 4.3.2 | í…ŒìŠ¤íŠ¸ ì„¤ì • íŒŒì¼ | `vitest.config.ts` |
| 4.3.3 | í›… í…ŒìŠ¤íŠ¸ ì‘ì„± (ìš°ì„ ìˆœìœ„) | `__tests__/hooks/` |
| 4.3.4 | ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ì‘ì„± | `__tests__/components/` |

**í•„ìš” íŒ¨í‚¤ì§€:**
```bash
npm install -D vitest @testing-library/react @testing-library/jest-dom jsdom
```

**í…ŒìŠ¤íŠ¸ ìš°ì„ ìˆœìœ„:**

| ìš°ì„ ìˆœìœ„ | ëŒ€ìƒ | ì´ìœ  |
|----------|------|------|
| P0 | useContents | í•µì‹¬ ë°ì´í„° CRUD |
| P0 | useTags | íƒœê·¸ ì‚­ì œ ì—°ì‡„ ë¡œì§ |
| P1 | useConnections | ê·¸ë˜í”„ ë°ì´í„° ë³€í™˜ |
| P1 | useReflections | í†µê³„ ê³„ì‚° |
| P2 | UI ì»´í¬ë„ŒíŠ¸ | ì‚¬ìš©ì ì¸í„°ë™ì…˜ |

**ì˜ˆì‹œ í…ŒìŠ¤íŠ¸:**

```typescript
// __tests__/hooks/useTags.test.ts
import { renderHook, act } from '@testing-library/react';
import { useTags } from '@/hooks/useTags';

describe('useTags', () => {
  it('should delete tag and remove from contents', async () => {
    const { result } = renderHook(() => useTags());

    // Setup: create tag and content with tag
    await act(async () => {
      await result.current.addTag('test-tag');
    });

    // Action: delete tag
    await act(async () => {
      await result.current.deleteTag('tag-id');
    });

    // Assert: tag removed from contents
    expect(result.current.tags).not.toContainEqual(
      expect.objectContaining({ name: 'test-tag' })
    );
  });
});
```

---

## 5. ì‘ì—… ì²´í¬ë¦¬ìŠ¤íŠ¸

### Sprint 1 ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] **2.1 íƒœê·¸ ì‚­ì œ ì—°ì‡„ ì²˜ë¦¬**
  - [ ] 2.1.1 db.ts í—¬í¼ í•¨ìˆ˜ ì¶”ê°€
  - [ ] 2.1.2 useTags.ts deleteTag ê°œì„ 
  - [ ] 2.1.3 ì‚­ì œ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ ê°œì„ 
  - [ ] 2.1.4 í…ŒìŠ¤íŠ¸ ì‘ì„±

- [ ] **2.2 ì½˜í…ì¸  ìƒì„¸ ë·°**
  - [ ] 2.2.1 ContentDetailModal ì»´í¬ë„ŒíŠ¸ ìƒì„±
  - [ ] 2.2.2 App.tsx ëª¨ë‹¬ ë“±ë¡
  - [ ] 2.2.3 FeedPage ì—°ë™
  - [ ] 2.2.4 í¸ì§‘ ê¸°ëŠ¥ í†µí•©

- [ ] **2.3 í ìƒíƒœ ê´€ë¦¬**
  - [ ] 2.3.1 Content íƒ€ì…ì— queueOrder ì¶”ê°€
  - [ ] 2.3.2 reorderQueue í•¨ìˆ˜ êµ¬í˜„
  - [ ] 2.3.3 removeFromQueue ë¡œì§ ê°œì„ 

### Sprint 2 ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] **3.1 ë“œë˜ê·¸ì•¤ë“œë¡­**
  - [ ] 3.1.1 @dnd-kit íŒ¨í‚¤ì§€ ì„¤ì¹˜
  - [ ] 3.1.2 SortableQueueItem ì»´í¬ë„ŒíŠ¸
  - [ ] 3.1.3 LearningQueue í†µí•©
  - [ ] 3.1.4 ìˆœì„œ ì €ì¥ ì—°ë™

- [ ] **3.2 ìŠ¤ì¼ˆë ˆí†¤ UI**
  - [ ] 3.2.1 Skeleton ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸
  - [ ] 3.2.2 í˜ì´ì§€ë³„ ìŠ¤ì¼ˆë ˆí†¤ ì ìš©

- [ ] **3.3 ì—ëŸ¬ í•¸ë“¤ë§**
  - [ ] 3.3.1 ErrorBoundary êµ¬í˜„
  - [ ] 3.3.2 Toast ì‹œìŠ¤í…œ êµ¬í˜„
  - [ ] 3.3.3 ì—ëŸ¬ ë©”ì‹œì§€ í‘œì¤€í™”

### Sprint 3 ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] **4.1 ë²ˆë“¤ ìµœì í™”**
  - [ ] 4.1.1 Vite ì„¤ì • ìµœì í™”
  - [ ] 4.1.2 ë™ì  ì„í¬íŠ¸ ì ìš©
  - [ ] 4.1.3 ë²¤ë” ì²­í¬ ë¶„ë¦¬

- [ ] **4.2 ë©”ëª¨ì´ì œì´ì…˜**
  - [ ] 4.2.1 í•µì‹¬ ì»´í¬ë„ŒíŠ¸ memo ì ìš©
  - [ ] 4.2.2 useCallback/useMemo ê°ì‚¬

- [ ] **4.3 í…ŒìŠ¤íŠ¸**
  - [ ] 4.3.1 Vitest ì„¤ì •
  - [ ] 4.3.2 í•µì‹¬ í›… í…ŒìŠ¤íŠ¸ ì‘ì„±

---

## 6. ì„±ê³µ ì§€í‘œ

| ì§€í‘œ | í˜„ì¬ | ëª©í‘œ |
|------|------|------|
| ë²ˆë“¤ í¬ê¸° | 931KB | < 500KB (ì´ˆê¸° ë¡œë“œ) |
| TODO í•­ëª© | 4ê°œ | 0ê°œ |
| í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ | 0% | > 50% (í›…) |
| ë¡œë”© UX | ê¸°ë³¸ | ìŠ¤ì¼ˆë ˆí†¤ UI |
| ì—ëŸ¬ ì²˜ë¦¬ | console.error | Toast + ì¬ì‹œë„ |

---

## 7. ì˜ì¡´ì„± ì¶”ê°€

```json
{
  "dependencies": {
    "@dnd-kit/core": "^6.x",
    "@dnd-kit/sortable": "^8.x",
    "@dnd-kit/utilities": "^3.x"
  },
  "devDependencies": {
    "vitest": "^1.x",
    "@testing-library/react": "^14.x",
    "@testing-library/jest-dom": "^6.x",
    "jsdom": "^24.x"
  }
}
```

---

## 8. ë¦¬ìŠ¤í¬ ë° ëŒ€ì‘

| ë¦¬ìŠ¤í¬ | ì˜í–¥ | ëŒ€ì‘ ë°©ì•ˆ |
|--------|------|-----------|
| ë“œë˜ê·¸ì•¤ë“œë¡­ ëª¨ë°”ì¼ í˜¸í™˜ì„± | ì¤‘ | touch-action CSS, í„°ì¹˜ ì´ë²¤íŠ¸ í…ŒìŠ¤íŠ¸ |
| ë™ì  ì„í¬íŠ¸ ì‚¬ìš©ì ê²½í—˜ | ì € | í”„ë¦¬ë¡œë“œ íŒíŠ¸, ìŠ¤ì¼ˆë ˆí†¤ UI |
| í…ŒìŠ¤íŠ¸ ì‘ì„± ì‹œê°„ | ì¤‘ | í•µì‹¬ ë¡œì§ ìš°ì„ , ì ì§„ì  í™•ëŒ€ |
| IndexedDB ë§ˆì´ê·¸ë ˆì´ì…˜ | ì € | Dexie ë²„ì „ ê´€ë¦¬, ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ |

---

*Phase 6 ì™„ë£Œ í›„ Phase 8 (PWA) ì§„í–‰ ê¶Œì¥*
